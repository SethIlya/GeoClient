<!-- geoclient/templates/geoclient/vue_app_container.html -->
{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта точек RINEX</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">

    <!-- Стили Leaflet (если не импортируются в JS бандле) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <!-- 
      Стили вашего Vue приложения, собранные Vite:
      Путь 'style.css' или 'assets/style.css' зависит от вашей конфигурации Vite (build.rollupOptions.output.assetFileNames)
      и STATICFILES_DIRS в Django.
      Пример для assetFileNames: `assets/[name].[ext]` и STATICFILES_DIRS указывающей на .../vue_dist/
    -->
    <link rel="stylesheet" href="{% static 'assets/style.css' %}"> 

    <script>
      window.DJANGO_SETTINGS = {
        csrfToken: "{{ csrf_token }}",
        apiPointsUrl: "{{ api_points_url|default:'/api/points/' }}",
        apiUploadUrl: "{{ api_upload_url|default:'/api/upload-rinex/' }}"
      };
    </script>
</head>
<body>
    <noscript>
      <strong>Для работы этого приложения необходим JavaScript. Пожалуйста, включите его.</strong>
    </noscript>
    <div id="app">
        Загрузка приложения Django + Vue...
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
            crossorigin="anonymous"></script>
    
    <!-- 
      JS бандл вашего Vue приложения, собранный Vite:
      Путь 'main.js' или 'assets/main.js' зависит от конфигурации Vite (build.rollupOptions.output.entryFileNames)
    -->
    <script type="module" src="{% static 'assets/main.js' %}"></script>
</body>
</html>